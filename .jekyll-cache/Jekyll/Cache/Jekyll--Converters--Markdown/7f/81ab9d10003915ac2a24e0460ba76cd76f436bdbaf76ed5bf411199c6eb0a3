I"ı<h2 id="tomcat85é…ç½®è´¦å·å¯†ç ">tomcat8.5é…ç½®è´¦å·å¯†ç </h2>

<p>tomcat8ä»¥å‰é…ç½®tomcat-users.xmlå°±èƒ½è®¿é—®managerå’Œhost-manageré¡¹ç›®, æ¥ç®¡ç†å’ŒæŸ¥çœ‹tomcatçŠ¶æ€.
å†tomcat8å¼€å§‹, åªä¿®æ”¹tomcat-usersè¿˜æ˜¯ä¼šå‡ºç°403, ç¦æ­¢è®¿é—®.
åŸå› æ˜¯tomcat8å¼€å§‹, é»˜è®¤åªèƒ½æœ¬æœºè®¿é—®ç®¡ç†é¡¹ç›®, å†host-managerå’Œmanageré¡¹ç›®ä¸‹çš„/META-INF/ä¸‹æœ‰ä¸ªcontext.xml</p>

<p>1ã€é»˜è®¤å¼€å¯äº†è®¿é—®æ§åˆ¶ï¼Œåªå…è®¸æœ¬åœ°127è¿œç¨‹è®¿é—®ã€‚è°ƒè¯•èƒ½è¿œç¨‹è®¿é—®ã€‚</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ vi /usr/local/apache-tomcat-8.5.32/webapps/host-manager/META-INF/context.xml
##æ³¨é‡Šæˆ–è€…å°†allowæ”¹ä¸º\d+\.\d+\.\d+\.\d+|::1|0:0:0:0:0:0:0:1å³å¯(è¿™é‡Œä½¿ç”¨æ³¨é‡Š)

&lt;!--  &lt;Valve className="org.apache.catalina.valves.RemoteAddrValve"
         allow="127\.\d+\.\d+\.\d+|::1|0:0:0:0:0:0:0:1" /&gt; --&gt;
</code></pre></div></div>

<p>2ã€ä¿®æ”¹tomcat-user.xml</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ /usr/local/apache-tomcat-8.5.32/conf/tomcat-users.xml
##æœ«å°¾æ·»åŠ 
  &lt;role rolename="manager-gui"/&gt;
  &lt;role rolename="manager-script"/&gt;
  &lt;role rolename="manager-jmx"/&gt;
  &lt;role rolename="manager-status"/&gt;
  &lt;role rolename="admin-gui"/&gt;
  &lt;role rolename="admin-script"/&gt;
  &lt;user username="admin" password="123456" roles="manager-gui,manager-script,manager-jmx,manager-status,admin-gui,admin-script"/&gt;
</code></pre></div></div>
<blockquote>
  <p>æœ‰6ä¸ªè§’è‰², åˆ†åˆ«æ˜¯manager=(manager-gui, manager-script), manager-jmx, manager-status, admin=(admin-gui,admin-script), ä¸ºäº†ç»†ç²’åº¦æ§åˆ¶, æ‰€ä»¥å†managerå’Œadminè§’è‰²ä¸Šåˆ†å‡ºæ¥æ›´ç»†çš„è§’è‰², è§’è‰²åç§°å›ºå®šçš„, ä¸æ˜¯è‡ªå®šä¹‰çš„.</p>
</blockquote>

:ET
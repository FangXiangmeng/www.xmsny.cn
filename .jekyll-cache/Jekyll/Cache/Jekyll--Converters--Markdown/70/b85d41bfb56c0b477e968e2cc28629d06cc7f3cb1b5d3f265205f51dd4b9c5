I"Ø	<p><strong>æŠ¥é”™æ—¥å¿—</strong></p>
<pre><code class="language-log">5913 May 16 15:26:04 localhost Keepalived_vrrp: ip address associated with VRID not present in received packet : 10.174.233.253

5914 May 16 15:26:04 localhost Keepalived_vrrp: one or more VIP associated with VRID mismatch actual MASTER advert

5915 May 16 15:26:04 localhost Keepalived_vrrp: bogus VRRP packet received on eth0 !!!

5916 May 16 15:26:04 localhost Keepalived_vrrp: VRRP_Instance(VI_1) ignoring received advertisment...

5917 May 16 15:26:05 localhost Keepalived_vrrp: ip address associated with VRID not present in received packet : 10.174.233.253

5918 May 16 15:26:05 localhost Keepalived_vrrp: one or more VIP associated with VRID mismatch actual MASTER advert

5919 May 16 15:26:05 localhost Keepalived_vrrp: bogus VRRP packet received on eth0 !!!

5920 May 16 15:26:05 localhost Keepalived_vrrp: VRRP_Instance(VI_1) ignoring received advertisment.
</code></pre>

<p>ä¸´æ—¶è§£å†³æ–¹æ³•ï¼Œåœ¨ens160ç½‘å¡ä¸ŠæŠŠè™šæ‹Ÿipæ·»åŠ ä¸Š</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ifconfig  ens160:0 10.174.233.253  netmask 255.255.255.0
</code></pre></div></div>

<p><strong>é—®é¢˜åˆ†æ</strong>
1.æœ€å¼€å§‹ä»¥ä¸ºæ˜¯ç°åœºå‡çº§äº†æ ¸å¿ƒäº¤æ¢æœºå¯¼è‡´å¾—ç»„æ’­åœ°å€ä¸é€šä¿¡å¾—é—®é¢˜ã€‚åæŸ¥æ˜ä¸æ˜¯æ­¤é—®é¢˜ã€‚
2.æµ‹è¯•keepalivedæ˜¯å¦æœ‰é—®é¢˜ã€‚é‡å¯keepalivedæˆ–è€…åœæ­¢keepalivedå¾—æ—¶å€™å‘ç°VIPä¸ç»‘å®šä¹Ÿä¸é£˜é€¸ï¼Œåªæœ‰åœ¨é‡å¯å®Œsystemctl restart networkåæ‰ç»‘å®šä¸Šã€‚
3.æ’æŸ¥keepalivedæ—¥å¿—ã€‚å‘ç°è¿™ä¹ˆä¸€æ¡æŠ¥é”™ ip address associated with vrid not present in received packet: 10.174.233.253ç™¾åº¦äº†ä¸‹ï¼Œæ˜¯å› ä¸ºåœ¨åŒä¸€ç½‘æ®µå†…virtual_router_id å€¼ä¸èƒ½ç›¸åŒï¼Œå¦‚æœç›¸åŒä¼šåœ¨messagesä¸­æ”¶åˆ°VRRPé”™è¯¯åŒ… æ‰€ä»¥éœ€è¦æ›´æ”¹ã€‚ 4ã€åœ¨AæœåŠ¡å™¨ä¸ŠæŠ“åŒ…ï¼Œå‘ç°å¥½å¤šVRIDæ˜¯51çš„IPåœ¨å¯¹vrrpå‘åŒ…ã€‚</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[root@Cent65CTS1037051 ~]# tcpdump -i ens160 vrrp -n
</code></pre></div></div>

<p><strong>è§£å†³æ–¹æ³•</strong>
1.æœåŠ¡å™¨å¾—é˜²ç«å¢™éœ€è¦å…³é—­ï¼Œå¦‚æœä¸å…³é—­å¾—æƒ…å†µä¸‹è¯·å¢åŠ vrrpç­–ç•¥</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>iptables <span class="nt">-A</span> INPUT <span class="nt">-p</span> vrrp <span class="nt">-j</span> ACCEPT
</code></pre></div></div>
<p>2.æŠŠvirtual_router_idå¾—å€¼æ”¹æˆäº†38,ç„¶åé‡å¯keepalivedè§£å†³æ­¤é—®é¢˜ã€‚</p>
:ET